\subsubsection{Последовательная диаграмма работы модуля Classrooms}
Ниже приведена последовательная диаграмма, иллюстрирующая полный жизненный цикл взаимодействия преподавателя, студента, и сервиса искуственного интелекта при работе с виртуальными классами и заданиями. На рисунке~\ref{fig:classroom-flow} показаны все основные этапы: создание класса, создание задания с указанием промта для автопроверки, получение списков заданий студентом, отправка решения студентом, автоматическая проверка с помощью искуственного интелекта и выставление оценки преподавателем.

На рисунке~\ref{fig:classroom-flow} можно выделить следующие ключевые этапы:

\begin{enumerate}
    \item Преподаватель создаёт класс:
    \begin{itemize}
        \item преподаватель открывает форму создания класса в своем интерфейсе (UI: Преподаватель),
        \item UI отправляет запрос на сервер с данными нового класса,
        \item сервер возвращает подтверждение успешного создания (например, ID нового класса),
        \item UI отображает преподавателю сообщение «Класс создан».
    \end{itemize}

    \item Преподаватель создаёт задание с возможностью задать промт для проверки искуственным ителектом:
    \begin{itemize}
        \item преподаватель переходит в форму создания задания, указывая вместе с условием текста задания промт для проверки искуственным интелектом,
        \item UI отправляет запрос на сервер с данными задания и промтом,
        \item сервер возвращает подтверждение успешного сохранения задания,
        \item UI отображает преподавателю сообщение «Задание создано».
    \end{itemize}

    \item Студент получает список доступных заданий:
    \begin{itemize}
        \item студент открывает интерфейс (UI: Студент) и запрашивает список заданий для конкретного класса,
        \item UI отправляет запрос на сервер с ID класса,
        \item сервер возвращает массив доступных заданий,
        \item UI отображает студенту список заданий.
    \end{itemize}

    \item Студент отправляет решение на проверку:
    \begin{itemize}
        \item студент открывает форму отправки решения, выбирая конкретное задание,
        \item UI отправляет файлы решения и метаданные (например, ID задания, ID студента) на сервер,
        \item сервер возвращает подтверждение успешной загрузки решения,
        \item UI отображает студенту сообщение «Решение отправлено».
    \end{itemize}

    \item Автопроверка работы искуственным интелектом:
    \begin{itemize}
        \item сервер получает файлы решения и ранее заданный промт к заданию,
        \item сервер отправляет файлы и промт во внешний сервис с использованием искусственного интеллекта,
        \item сервис с использованием искусственного интеллекта выполняет анализ кода (например, проверку корректности, стилевых нарушений и т. д.) и возвращает результат вместе с комментариями,
        \item сервер сохраняет результат автопроверки и передаёт его UI обоим ролям:
        \begin{enumerate}
            \item UI Студента: отображается результат автопроверки (оценка искусственного интеллекта, комментарии),
            \item UI Преподавателя: отображается результат автопроверки (для последующей ручной проверки и выставления итоговой оценки).
        \end{enumerate}
    \end{itemize}

    \item Преподаватель ставит оценку, и студент получает её:
    \begin{itemize}
        \item преподаватель открывает форму выставления оценки (UI: Преподаватель) для конкретного решения,
        \item UI отправляет на сервер оценку и комментарий преподавателя,
        \item сервер сохраняет оценку, возвращает подтверждение сохранения,
        \item UI отображает преподавателю сообщение «Оценка сохранена», а UI Студента — обновлённую финальную оценку.
    \end{itemize}
\end{enumerate}

Таким образом, последовательная диаграмма на рисунке~\ref{fig:classroom-flow} демонстрирует весь цикл взаимодействий: от создания класса и задания преподавателем до получения студентом финальной оценки после автопроверки и ручного выставления оценки преподавателем.
