\subsection{Безопасность данных}

В данном разделе приводится обзор ключевых принципов и практик, обеспечивающих конфиденциальность, целостность и доступность данных в приложении.

\subsubsection{Авторизация с использованием библиотеки Auth.js}
Механизм авторизации в приложении реализован на основе JWT токена и библиотеки Auth.js, которая обеспечивает безопасную и гибкую аутентификацию пользователей на клиентской стороне. Процесс состоит из следующих этапов:

\begin{enumerate}
  \item Пользователь выполняет вход с помощью логина и пароля или через одного из OAuth-провайдеров (например, Google). Библиотека Auth.js инициирует процесс аутентификации и при успешной проверке получает токен JWT.
  \item Полученный токен содержит минимально необходимые полезные данные, включая идентификатор пользователя, его роль и срок действия. Токен сохраняется в данные cookie с флагами \textit{HTTP-only}, \textit{Secure} и \textit{SameSite=Strict}, что защищает от атак типа XSS и CSRF.
  \item При каждом обращении к защищённым ресурсам токен автоматически прикрепляется к запросу. Если токен оказался недействительным или истёк, библиотека Auth.js может автоматически выполнить его обновление с использованием токена обновления, если он присутствует.
\end{enumerate}

\subsubsection{Роль библиотека Auth.js}
Библиотека Auth.js упрощает реализацию безопасной авторизации за счёт следующих возможностей:

\begin{enumerate}
  \item Обрабатывает все основные сценарии авторизации, включая вход, выход из системы и обновление токена;
  \item Управляет хранением токенов и обеспечивает их безопасную передачу между клиентом и сервером;
  \item Генерирует CSRF-токены, предотвращая атаки с подделкой межсайтовых запросов;
  \item Поддерживает стратегию единого входа, обеспечивая единообразный доступ к различным системам.
\end{enumerate}

\subsubsection{Меры защиты}
Для повышения безопасности механизма авторизации реализованы дополнительные меры:

\begin{enumerate}
  \item Токен доступа действует ограниченное время (например, 5 минут), а токен обновления — 30 дней;
  \item Библиотека Auth.js валидирует параметры входа.
\end{enumerate}

Таким образом, связка JWT токена и библиотеки Auth.js позволяет реализовать надёжный и гибкий механизм авторизации на клиентской стороне с минимальной утечкой чувствительных данных.